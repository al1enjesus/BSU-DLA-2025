# Кейлоггер на основе модуля ядра
Модуль ядра для Linux, который перехватывает и логирует нажатия клавиш.

**Внимание**: Этот код предназначен исключительно для образовательных целей. Использование кейлоггеров без явного согласия пользователя является нарушением законодательства об информационной безопасности во многих странах мира.Автор не призывает никого ничем этим заниматься и нарушать закон.
## Возможности

- Перехватывает нажатия клавиш на системном уровне.
- Записывает символы (включая пароли) в лог-файл `/var/log/kkey.log`.
- Поддерживает асинхронную запись в файл через workqueues для минимизации задержек.
- Использует двойную буферизацию с защитой spinlock для предотвращения гонок данных.
- Лог-файл создаётся с правами доступа `0600` (только root может читать).
**Среда разработки**:Данная работа и код был написан в VirtualBox Oracle на Ubuntu 22.04 LTS 
## Запуск
Для компиляции кода используется стандартная команда
```bash
make
```
После чего был создан файл keylogger.ko
## Использование

### Загрузка модуля


```bash
sudo insmod keylogger.ko
```
или же
```bash
make install
```
### Просмотр логов

Для просмотра активности модуля и логов используйте команды:

```bash
# Проверить, что модуль загружен
lsmod | grep keylogger

# Посмотреть сообщения модуля (загружен, выгружен, ошибки)
dmesg | grep kkey

# Посмотреть содержимое лог-файла
sudo cat /var/log/kkey.log
```
### Выгрузка модуля

Для остановки кейлоггера и выгрузки модуля выполните: 

```bash
sudo rmmod keylogger
```
или же выполните команду 
```bash
make uninstall
```
## Очистка

Чтобы удалить все сгенерированные при сборке файлы:

```bash
make clean
```