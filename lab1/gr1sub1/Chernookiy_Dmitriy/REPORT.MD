# Лабораторная 1 Задание 1
```bash

cat "/var/log//dmesg.txt" \
| tr -cs '[:alnum:]' '\n' \
| tr '[:upper:]' '[:lower:]' \
| sort \
| uniq -c \
| sort -nr \
| head -n 5
```

Шаги:
```
1) читаю dmesg (syslog - нет) 
2) заменяем всё кроме букв и цифр на \n
3) приводим к нижнему регистру
4) сортируем
5) подсчет уникальных вхождений
6) сортируем по количеству от большего к меньшему
7) берем первые 5 записей
```

Результат
```
    511 16
    469 10
    457 23
    456 2025
    455 tue
```

Пояснение 
 - Такой результат потому что в каждой строке присутствует дата в фотмате 'Tue Sep 23 10:16:17 2025' 
 - Очевидно что такие записи встречаются чаще всего

# Лабораторная 1 Задание 2 

```bash
cat /var/log/auth.log \
| grep -E "Failed|Invalid" \
| grep -oE '[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+' \
| sed -E 's/([0-9]+\.[0-9]+\.[0-9]+\.)[0-9]+/\1x/g' \
| sort \
| uniq -c \
| sort -nr \
| head -10
```

Шаги:
```
1) читаем auth
2) фильтр по Failed, Invalid
3) извлечение IP-адреса
4) замена последнего октета  с помощью `sed`
5) сортировка
6) подсчет повторов
7) сортировка по числу в обратном порядке
8) вывод первых 10
```

```bash
for i in {1..5}; do
logger -p auth.warning "Failed password for user$i from 192.168.1.$((100+i))"
sleep 1
done 
```
Пояснение и результат
 - Изначально записей с Failed не было, и результат отсутвовал.
 - Поэтому сгенерировал 5 записей типа "Failed password for user$i from 192.168.1.$((100+i))"
 - Результат - 5 192.168.1.x

# Лабораторная 1 Задание 3

```
grep "status installed" /var/log/dpkg.log* \
| awk '{print $5}' \
| sort \
| uniq -c \
| sort -nr \
| head -10
```

Шаги

```
1) ищем строки содержащие "status installed" во всех файлах логов dpkg
2) извлекаем 5-е поле из каждой строки (имя пакета)
3) сортировка
4) количество уникальных вхождений каждого пакета
5) сортировка по убыванию количества пакетов
6) показываем только первые 10 строк

```

Результаты
```
10 libc-bin:amd64
4 dbus:amd64
3 systemd:amd64
3 libglib2.0-0t64:amd64
3 libc6:amd64
3 dpkg:amd64
3 base-files:amd64
2 zlib1g:amd64
2 xxd:amd64
2 xkb-data:all 
```


Пояснение
- В основном в результате пакеты системы, установленные не мной

ИИ
- использовал для создания регулярных выражений и пытаясь симулировать неправильные входы для auth.log, но не помогло

