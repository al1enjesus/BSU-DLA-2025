Supervisor-Worker System

Данный проект на C++ реализует архитектуру «супервизор — рабочие процессы».
Главный процесс (супервизор) управляет группой дочерних процессов (воркеров): запускает их, завершает, перезапускает при сбоях и переключает режимы их работы.

Общая идея

Supervisor (supervisor.cpp)

Инициализирует и контролирует процессы-воркеры.

Загружает настройки из файла src/config.yaml.

Следит за состоянием рабочих процессов и восстанавливает их при завершении.

Реагирует на системные сигналы для перезапуска, изменения режима и остановки.

Поддерживает различные варианты планирования выполнения (приоритеты, CPU affinity и т. д.).

Worker (worker.cpp)

Эмулирует выполнение работы — чередует активные и спящие интервалы.

Работает в двух режимах: HEAVY (нагруженный) и LIGHT (лёгкий).

Периодически выводит информацию о себе: PID, текущий режим, счётчик итераций, номер CPU и значение nice.

Требования

Для сборки проекта необходимо установить следующие компоненты:

make

g++ (C++ компилятор)

libyaml-cpp-dev (библиотека YAML)

Установка зависимостей на системах Debian/Ubuntu:

sudo apt-get update
sudo apt-get install libyaml-cpp-dev

Сборка

Сборка выполняется через Makefile.
После компиляции исполняемые файлы будут помещены в каталог bin/.

Как использовать
Запуск проекта

Чтобы собрать и запустить систему:

make run

Управление сигналами

Работой супервизора можно управлять с помощью сигналов, отправляемых через make:

Обновить конфигурацию

make reload


Перечитывает файл src/config.yaml и перезапускает всех воркеров с новыми параметрами.

Переключить на лёгкий режим

make light


Переключить на тяжёлый режим

make heavy


Завершить работу (SIGINT)

make int


Завершить работу (SIGTERM)

make term

Очистка сборки

Для удаления бинарных файлов и очистки проекта:

make clean