# Лабораторная работа №3 — /proc, собственные метрики и диагностика

## Структура проекта

lab3/
gr<группа>sub<подгруппа>/
ФАМИЛИЯ_ИМЯ/
README.md # этот файл
REPORT.MD # отчёт с результатами экспериментов
run.sh # скрипт запуска процесса и сбора метрик
src/ # исходники
pstat.py # утилита для чтения /proc/<pid>
demo.log # лог с выводами утилиты pstat и системных команд
strace.log # лог strace



## Как собрать и запустить

1. **Убедитесь, что утилита `pstat.py` исполняема:**
```bash
cd src
chmod +x pstat.py
cd ..

    Запуск демо-скрипта:

sudo ./run.sh

    Примечание: sudo нужен для корректной работы strace -c и (опционально) perf stat.
    На WSL2 часть счётчиков perf может быть недоступна — в этом случае скрипт выводит предупреждение.

    Что делает скрипт run.sh:

    Запускает тестовый процесс, нагружающий CPU (yes).

    Собирает метрики процесса:

        с помощью собственной утилиты pstat.py (/proc/<pid>),

        стандартными командами ps, pidstat, top.

    Пытается собрать статистику системных вызовов через strace -c.

    Пытается собрать аппаратные счётчики через perf stat (если доступно).

    Сохраняет все выводы в src/demo.log и src/strace.log.

    Автоматически завершает тестовый процесс после сбора данных.

    Просмотр результатов:

cat src/demo.log
cat src/strace.log

Примечания

    Скрипт и утилита работают на Linux.

    На WSL2 perf stat может не работать из-за ограничений ядра.

    Для корректного запуска strace -c и perf stat может потребоваться root.

    Скрипт автоматически завершает тестовый процесс после сбора всех данных.



